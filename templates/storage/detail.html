{% extends 'storage/base.html' %}

{% block title %}{{ file.original_filename }} - ูุธุงู ุชุฎุฒูู ุงููููุงุช{% endblock %}

{% block content %}
<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px;">
    <h2>๐ ุชูุงุตูู ุงูููู</h2>
    <a href="{% url 'index' %}" class="btn" style="background: #6c757d;">ุงูุนูุฏุฉ ูููุงุฆูุฉ</a>
</div>

<div class="file-card">
    <h3>{{ file.original_filename }}</h3>
    
    <div class="file-info">
        <strong>ุฑูู ุงูููู:</strong>
        <span>{{ file.id }}</span>
    </div>
    
    <div class="file-info">
        <strong>ุงุณู ุงูููู ุงูุฃุตูู:</strong>
        <span>{{ file.original_filename }}</span>
    </div>
    
    <div class="file-info">
        <strong>ูุณุงุฑ ุงูุชุฎุฒูู:</strong>
        <span style="font-family: monospace; font-size: 14px;">{{ file.storage_path }}</span>
    </div>
    
    <div class="file-info">
        <strong>ููุน ุงูููู:</strong>
        <span>{{ file.content_type }}</span>
    </div>
    
    <div class="file-info">
        <strong>ุญุฌู ุงูููู:</strong>
        <span>{{ file.get_file_size_display }}</span>
    </div>
    
    <div class="file-info">
        <strong>ุชุงุฑูุฎ ุงูุฑูุน:</strong>
        <span>{{ file.uploaded_at|date:"Y-m-d H:i:s" }}</span>
    </div>
    
    {% if file.description %}
    <div class="file-info">
        <strong>ุงููุตู:</strong>
        <span>{{ file.description }}</span>
    </div>
    {% endif %}
    
    <div class="file-info">
        <strong>ุงูุฑุงุจุท ุงูุนุงู:</strong>
        <span>
            <a href="{{ file.public_url }}" target="_blank" style="color: #667eea; word-break: break-all;">
                {{ file.public_url }}
            </a>
        </span>
    </div>
</div>

<!-- Preview for images -->
{% if 'image' in file.content_type %}
<div style="margin-top: 30px;">
    <h3 style="margin-bottom: 15px;">ูุนุงููุฉ ุงูุตูุฑุฉ:</h3>
    <img src="{{ file.public_url }}" alt="{{ file.original_filename }}" 
         style="max-width: 100%; height: auto; border-radius: 10px; box-shadow: 0 5px 15px rgba(0,0,0,0.1);">
</div>
{% endif %}

<!-- Actions -->
<div style="margin-top: 30px; display: flex; gap: 10px;">
    <a href="{{ file.public_url }}" target="_blank" class="btn">๐ ูุชุญ ุงูููู</a>
    <a href="{{ file.public_url }}" download class="btn" style="background: #28a745;">โฌ๏ธ ุชุญููู ุงูููู</a>
    
    <form method="post" action="{% url 'delete_file' file.pk %}" 
          onsubmit="return confirm('ูู ุฃูุช ูุชุฃูุฏ ูู ุญุฐู ูุฐุง ุงููููุ');" 
          style="display: inline;">
        {% csrf_token %}
        <button type="submit" class="btn btn-danger">๐๏ธ ุญุฐู ุงูููู</button>
    </form>
</div>

<!-- API Information -->
<div style="margin-top: 40px; padding: 20px; background: #f8f9fa; border-radius: 10px;">
    <h3 style="color: #495057; margin-bottom: 15px;">๐ก ูุนูููุงุช API</h3>
    <p style="color: #6c757d; margin-bottom: 10px;">ููููู ุงููุตูู ุฅูู ูุนูููุงุช ูุฐุง ุงูููู ุนุจุฑ API:</p>
    <code style="display: block; padding: 10px; background: white; border-radius: 5px; font-family: monospace;">
        GET /api/files/{{ file.id }}/
    </code>
</div>
{% endblock %}
